<?xml version="1.0" encoding="utf-8"?>
<Defs>
  <!-- Abstract base for all tilled soil variants -->
  <VEF.Maps.ActiveTerrainDef Name="MOL_TerrainBase" Abstract="True">
    <edgeType>FadeRough</edgeType>
    <renderPrecedence>335</renderPrecedence>
    <constructEffect>ConstructDirt</constructEffect>
    <affordances>
      <li>Light</li>
      <li>Medium</li>
      <li>Heavy</li>
      <li>GrowSoil</li>
      <li>Diggable</li>
      <li>Walkable</li>
    </affordances>
    <generatedFilth>Filth_Dirt</generatedFilth>
    <filthAcceptanceMask>
      <li>Unnatural</li>
    </filthAcceptanceMask>
    <tags>
      <li>GT_TS</li>
    </tags>
    <takeFootprints>True</takeFootprints>
    <texturePath>Terrain/MOL_SoilTilled</texturePath>
    <pathCost>12</pathCost>
    <layerable>true</layerable>
    <statBases>
      <Beauty>1</Beauty>
    </statBases>
    <terrainAffordanceNeeded>GrowSoil</terrainAffordanceNeeded>
    <tickerType>Never</tickerType>
    <tools>
      <li>
        <label>dirt</label>
        <capacities>
          <li>KickMaterialInEyes</li>
        </capacities>
        <hediff>DirtInEyes</hediff>
        <cooldownTime>1.5</cooldownTime>
      </li>
    </tools>
  </VEF.Maps.ActiveTerrainDef>

  <!-- Player-buildable version (gets swapped to correct fertility variant) -->
  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled</defName>
    <label>enriched soil</label>
    <description>Enriched soil. Allows crops to grow faster. Fertility depends on the underlying soil quality.</description>
    <designationCategory>Floors</designationCategory>
    <fertility>1.2</fertility>
    <costList>
      <MOL_BoneMeal>2</MOL_BoneMeal>
    </costList>
    <statBases>
      <Beauty>1</Beauty>
      <WorkToBuild>85</WorkToBuild>
    </statBases>
    <researchPrerequisites>
      <li>MOL_TilledSoil</li>
    </researchPrerequisites>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <isBaseVariant>true</isBaseVariant>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <!-- ==================== RICH VARIANTS (underlying + 20%) ==================== -->
  <!-- 20 days until transition to Moderate -->

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_90</defName>
    <label>enriched soil (90%)</label>
    <description>Enriched soil with 90% fertility. Will degrade over time.</description>
    <fertility>0.9</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_100</defName>
    <label>enriched soil (100%)</label>
    <description>Enriched soil with 100% fertility. Will degrade over time.</description>
    <fertility>1.0</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_110</defName>
    <label>enriched soil (110%)</label>
    <description>Enriched soil with 110% fertility. Will degrade over time.</description>
    <fertility>1.1</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_120</defName>
    <label>enriched soil (120%)</label>
    <description>Enriched soil with 120% fertility. Will degrade over time.</description>
    <fertility>1.2</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_130</defName>
    <label>enriched soil (130%)</label>
    <description>Enriched soil with 130% fertility. Will degrade over time.</description>
    <fertility>1.3</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_140</defName>
    <label>enriched soil (140%)</label>
    <description>Enriched soil with 140% fertility. Will degrade over time.</description>
    <fertility>1.4</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_150</defName>
    <label>enriched soil (150%)</label>
    <description>Enriched soil with 150% fertility. Will degrade over time.</description>
    <fertility>1.5</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_160</defName>
    <label>enriched soil (160%)</label>
    <description>Enriched soil with 160% fertility. Will degrade over time.</description>
    <fertility>1.6</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_170</defName>
    <label>enriched soil (170%)</label>
    <description>Enriched soil with 170% fertility. Will degrade over time.</description>
    <fertility>1.7</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>480</hoursToExpire>
        <soilState>Rich</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <!-- ==================== MODERATE VARIANTS (underlying + 10%) ==================== -->
  <!-- 10 days until transition to Depleted -->

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_80</defName>
    <label>weathered soil (80%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>0.8</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_90</defName>
    <label>weathered soil (90%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>0.9</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_100</defName>
    <label>weathered soil (100%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.0</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_110</defName>
    <label>weathered soil (110%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.1</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_120</defName>
    <label>weathered soil (120%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.2</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_130</defName>
    <label>weathered soil (130%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.3</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_140</defName>
    <label>weathered soil (140%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.4</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Moderate_150</defName>
    <label>weathered soil (150%)</label>
    <description>Enriched soil that has weathered somewhat. Fertility bonus is reduced.</description>
    <fertility>1.5</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <hoursToExpire>240</hoursToExpire>
        <soilState>Moderate</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <!-- ==================== DEPLETED VARIANTS (underlying + 0%) ==================== -->
  <!-- No timer - awaits replenishment when bonemeal available -->

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_70</defName>
    <label>depleted soil (70%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>0.7</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_80</defName>
    <label>depleted soil (80%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>0.8</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_90</defName>
    <label>depleted soil (90%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>0.9</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_100</defName>
    <label>depleted soil (100%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>1.0</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_110</defName>
    <label>depleted soil (110%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>1.1</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_120</defName>
    <label>depleted soil (120%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>1.2</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_130</defName>
    <label>depleted soil (130%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>1.3</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>

  <VEF.Maps.ActiveTerrainDef ParentName="MOL_TerrainBase">
    <defName>MOL_SoilTilled_Depleted_140</defName>
    <label>depleted soil (140%)</label>
    <description>This enriched soil has been exhausted. It will be automatically re-enriched when bonemeal becomes available.</description>
    <fertility>1.4</fertility>
    <terrainComps>
      <li Class="MOExpandedLite.TerrainCompProperties_Expiring">
        <soilState>Depleted</soilState>
      </li>
    </terrainComps>
  </VEF.Maps.ActiveTerrainDef>
</Defs>
